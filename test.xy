; obligatory concise quicksort implementation

let quicksort ([]) = []

let quicksort (a) =
	with (p = a . 0, a = a .. 1)
		quicksort(a $ t : t <= p) +
		[ p ] +
		quicksort(a $ t : t > p)

let main () =
	quicksort([ 4, 2, 9, 1, 3, 10, 12 ])